# zTUI

## О преэкте
zTUI - это опен сурс билилотека для TUI, и подержкой системы ввода от пользователя.
## Примеры интерфеса
```
╭────────────────────────────╮
│zTUI                        │
│zTUI - это опен сурс        │
│билилотека для TUI, и       │
│подержкой системы ввода от  │
│пользователя.               │
│                            │
╰────────────────────────────╯
```

## Как установить
Установка через fatch
```bash
zig fetch --save https://github.com/Neon32eeee/zTUI/archive/refs/tags/0.0.1.tar.gz
```

## API проекта
базовы скрипт для обычного окна
```zig
const std = @import("std");
const ztui = @import("ztui");

pub fn main() !void {
    const win = try ztui.tui().init(.{.w = 20, .h = 10}, std.heap.page_allocator);
    defer win deinit();

    win.draw();
}
```
### Разбор

#### 1. `const win = try ztui.tui().init(.{.w = 20, .h = 10});` 

Сдесь мы обьевляем константу в которую мы иницилизируем наше окно приложения. Сама функция init принимает два аргумента, прервый это настройки которые являются труктурой с полями:

- `w` - это отвечает за ширину окна её моно ставится не более 155 что бы не перегрузаг терминал. Изначально 90.

- `h` - это длина нажего окна. Изначально 10.

- `name` - это поле отвечает за имя окна. Изначально стоит zTUI.

Второй же аргумент это аллокатор.

#### 2. `win.draw();`
Тут мы вызываем метод у структуты который отрисовывает окно в терминале.

### Ожидаемый вывод
```
╭──────────────────╮
│zTUI              │
│                  │
│                  │
│                  │
│                  │
│                  │
│                  │
│                  │
│                  │
│                  │
╰──────────────────╯
```


---

Еще один пример с дабавлением текста в окно

```zig
const std =@import("std");
const ztui = @import("ztui");

pub fn main() !void {
    var win = try ztui.tui().init(.{.w = 20, .h = 10}, std.heap.page_allocator);
    defer win.deinit();

    try win.append_row("zTUI test text!");

    win.draw();
}
```

### Разбор

#### `try win.append_row("zTUI test text!");`
Метод append_row принимает 1 аргумет и это сам строка которую мы хотим дабавить, сначала он разбивает текс и пререносит если надо слова, но если будет слово которое будет больше чем сама ширена то выдастся ошибка, сама она просто дабавляет эту отредоктированую строку в `win.rows` которыых и хранит эти строки а метод `win.draw();` отрисовывает в порядке от 0 элемента к последниму.

### Ожидаемый ввывод
```
╭──────────────────╮
│zTUI              │
│zTUI test text!   │
│                  │
│                  │
│                  │
│                  │
│                  │
│                  │
│                  │
│                  │
╰──────────────────╯
```

---

Пример с системой ввода от пользователя

```zig
const std = @import("std");
const ztui = @import("main.zig");

pub fn main() !void {
    var win = try ztui.tui().init(.{.w = 30, .h = 10}, std.heap.page_allocator);
    defer win.deinit();

    win.input_init(.{.promt = "Hello"});

    win.draw();

    var buff: [32]u8 = undefined;
    const answer = try win.hearing(&buff);

    if (std.mem.eql(u8, answer, "hi")) {
        try win.append_row("input system works!");
        win.draw();
    }

}
```

### Разбор

#### 1.`win.input_init(.{.promt = "Hello"});`
Тут мы иницилицируем систему ввода, что-бы мы могли в будушем слушать ввод от пользователя. Сам метод принимает настроки системы ввода в которую входит:

- `promt` - это подскажка дял пользователя которая появляется в конче и рядом с местом для ввода.
  
#### 2.`const answer = try win.hearing(&buff);`
Тут уже выживает медот который слушает ввод от пользователяи когда пользователь введет то она вернёт ввод. Медот принимает буффер который желательно подбирать под придпалагаймый максимальный размер ввода что-бы не занимать много памити.

### Ожидаемы ввывод

#### При первом включении програмы
```
╭────────────────────────────╮
│zTUI                        │
│                            │
│                            │
│                            │
│                            │
│                            │
│                            │
│                            │
│                            │
│                            │
╰────────────────────────────╯
Hello| 
```

#### При вводе hi
```
╭────────────────────────────╮
│zTUI                        │
│zTUI test text!             │
│                            │
│                            │
│                            │
│                            │
│                            │
│                            │
│                            │
│                            │
╰────────────────────────────╯
```
